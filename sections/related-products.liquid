{% style %}
  
{% endstyle %}

<div class="container-scroll container container__padding">
  <h2 class="h1 t-align--center mb-25 lg:mb-45">
    {{ section.settings.title | upcase }}
  </h2>
  <div class="d-grid grid-layout3 gap-15 lg:gap-20 padding-13 lg:padding-0 scroll">
    {% if section.settings.product_list == empty %}
      {% for i in (1..4) %}
        <div class="grid__item">
          <div class="card d-flex flex-cl a-item--center">
            <div class="p-relative product-img">
              <a class="d-iblock card-img p-relative wh-100" href="">
                {{ 'product-apparel-3' | placeholder_svg_tag: 'placeholder-svg  wh-100' }}
              </a>
              <button class="btn btn-link btn-border--none max-wh-1 p-absolute top-20 right-20">
                {% render 'icon-heart' %}
              </button>
            </div>
            <div class="card-body d-flex flex-cl a-item--center gap-10 mt-20">
              <h3 class="fs-14-16 t-transf--uc">product name</h3>
              <p class="h5 c-grey1 mb-10 price">1</p>
              <button class="btn btn-secondary border-primary t-transf--uc padding-8-14 lg:padding-12-32">add to cart</button>
            </div>
          </div>
        </div>
      {% endfor %}
    {% else %}
      {% for related_product in collections.all.products limit:4 %}
        <div class="grid__item">
          <div class="card d-flex flex-cl a-item--center">
            <div class="p-relative product-img">
              <a class="d-iblock card-img p-relative wh-100" href="{{ related_product.url }}">
                <img
                  class="wh-100 bg-style"
                  src="{{ related_product.featured_image | image_url }}"
                  alt="">
              </a>
              <button class="btn btn-link btn-border--none max-wh-1 p-absolute top-20 right-20">
                {% render 'icon-heart' %}
              </button>
            </div>
            <div class="card-body d-flex flex-cl a-item--center gap-10 mt-20">
              <h3 class="fs-14-16">
                {{ related_product.title | upcase }}
              </h3>
              {% if product.price != 0 %}
                <p class="h5 c-grey1 mb-10">
                  {{ related_product.price | money }}
                </p>
              {% else %}
                <p>Vui lòng liên hệ để biết chi tiết giá sản phẩm</p>
              {% endif %}
              <form method="post" action="/cart/add">
                <input
                  type="hidden"
                  name="id"
                  value="{{ product.variants.first.id }}" />
                <input
                  type="submit"
                  value="Add to cart"
                  class="btn btn-secondary border-primary t-transf--uc padding-8-14 lg:padding-12-32" />
              </form>
            </div>
          </div>
        </div>
      {% endfor %}
    {% endif %}
  </div>
</div>

{% schema %}
  {
    "name": "Related Products",
    "tag": "section",
    "class": "Featured-products",
    "settings": [
      {
        "type": "inline_richtext",
        "id": "title",
        "label": "Enter your title",
        "default": "Related product"
      }
    ],
    "presets": [
      {
        "name": "Related Products"
      }
    ]
  }
{% endschema %}